var colorPicker={canvas:"",ctx:"",height:"",width:"",img:"",colorRgba:"rgba(255,0,0,0)",colorRgbaObj:{r:255,g:0,b:0,a:1},colorHsv:"",colorHex:"",element:"",install:function(o){colorPicker.canvas=document.getElementById("colorPicker"),colorPicker.element=!!o.element&&document.getElementById(o.element),window.addEventListener("DOMContentLoaded",colorPicker.loadImg)},loadImg:function(){colorPicker.img=document.createElement("img"),colorPicker.img.onload=function(){colorPicker.height=this.height,colorPicker.width=this.width,colorPicker.init()},colorPicker.img.onerror=function(){this.src="/asset/photofilter/image/color.png"},colorPicker.img.src=colorPicker.getImageSrc()},getImageSrc:function(){return"/asset/photofilter/image/color.png"},init:function(){colorPicker.canvas&&colorPicker.canvas.getContext&&(colorPicker.canvas.addEventListener("click",colorPicker.getColor),colorPicker.canvas.height=colorPicker.height,colorPicker.canvas.width=colorPicker.width,colorPicker.ctx=colorPicker.canvas.getContext("2d"),colorPicker.ctx.drawImage(colorPicker.img,0,0))},getColor:function(o){var c=colorPicker.canvas.getBoundingClientRect(),e=o.clientX-c.left,r=o.clientY-c.top,i=colorPicker.ctx.getImageData(e,r,1,1).data;colorPicker.colorRgba="rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]/255+")",colorPicker.colorRgbaObj={r:i[0],g:i[1],b:i[2],a:i[3]/255},colorPicker.colorPick()},colorPick:function(){colorPicker.element&&(colorPicker.element.style.backgroundColor=colorPicker.colorRgba)}};