colorpicker=function(e,t){var n,o=document.getElementById(e),i=34,a=[150,50],r=".colorPicker{position:absolute;z-index:9999;bottom:-225px;height:225px;width:275px;background:#282828;display:none}.colorPickerArea{float: left;height:200px;width:200px;margin:12.5px}.colorPickerBar{float:left;height:155px;width:40px;margin-top:10px;}.colorPickerColor{height:40px; width:40px;margin-top:10px;float:left;}",l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=r:c.appendChild(document.createTextNode(r)),l.appendChild(c);var d=b("div",{className:"colorPicker"}),s=b("canvas",{className:"colorPickerArea",height:200,width:200}),u=b("canvas",{className:"colorPickerBar",height:155,width:40}),p=b("canvas",{className:"colorPickerColor",height:40,width:40}),h=s.getContext("2d"),f=u.getContext("2d"),g=p.getContext("2d");d.appendChild(s),d.appendChild(u),d.appendChild(p),o.appendChild(d);var v=function(){for(var e=[],t=10,n=0;n<260;n+=t)e.push([255,0,n]);for(n=250;n>0;n-=t)e.push([n,0,255]);for(n=0;n<260;n+=t)e.push([0,n,255]);for(n=255;n>0;n-=t)e.push([0,255,n]);for(n=0;n<260;n+=t)e.push([n,255,0]);for(n=255;n>0;n-=t)e.push([255,n,0]);return e}(),m=!1,k=!1;function y(e){var t=s.getBoundingClientRect();a[0]=parseInt(e.clientX-t.left),a[1]=parseInt(e.clientY-t.top),E()}function x(e){var t=u.getBoundingClientRect();i=parseInt(e.clientY-t.top),E()}function E(){var e;!function(){f.clearRect(0,0,40,155);for(var e=0;e<v.length;e++)f.beginPath(),f.strokeStyle="rgb("+v[e][0]+", "+v[e][1]+", "+v[e][2]+")",f.lineWidth=1,f.moveTo(0,e),f.lineTo(40,e),f.stroke()}(),function(){var e,t,n,o=v[i],a=(255-o[0])/200,r=(255-o[1])/200,l=(255-o[2])/200;h.clearRect(0,0,200,200);for(var c=0;c<200;c++)for(var d=0;d<200;d++)h.beginPath(),e=255-c*a,e-=e*d/200,t=255-c*r,t-=t*d/200,n=255-c*l,n-=n*d/200,h.fillStyle="rgb("+parseInt(e)+", "+parseInt(t)+", "+parseInt(n)+")",h.fillRect(c,d,1,1)}(),h.beginPath(),h.strokeStyle="rgb(100, 100, 100)",h.arc(a[0],a[1],5,0,2*Math.PI),h.stroke(),h.beginPath(),h.strokeStyle="rgb(255, 255, 255)",h.arc(a[0],a[1],6,0,2*Math.PI),h.stroke(),f.beginPath(),f.strokeStyle="rgb(0, 0, 0)",f.lineWidth=2,f.moveTo(0,i-2),f.lineTo(2,i),f.lineTo(38,i),f.lineTo(40,i+2),f.lineTo(40,i-2),f.lineTo(38,i),f.lineTo(2,i),f.lineTo(0,i+2),f.lineTo(0,i-2),f.stroke(),e=h.getImageData(a[0],a[1],1,1).data,n="rgb("+e[0]+","+e[1]+","+e[2]+")",g.beginPath(),g.fillStyle=n,g.fillRect(0,0,40,40),"function"==typeof t&&t(o,n)}function b(e,t){var n=document.createElement(e);for(var o in t)n[o]=t[o];return n}o.addEventListener("click",(function(e){d.style.display="block"})),s.addEventListener("click",y),u.addEventListener("click",x),d.addEventListener("focusout",(function(){alert("ll"),d.style.display="none"})),s.addEventListener("mousedown",(function(){m=!0})),u.addEventListener("mousedown",(function(){k=!0})),s.addEventListener("mouseup",(function(){m=!1})),u.addEventListener("mouseup",(function(){k=!1})),s.addEventListener("mousemove",(function(e){m&&y(e)})),u.addEventListener("mousemove",(function(e){k&&x(e)})),s.addEventListener("mouseleave",(function(){m=!1})),u.addEventListener("mouseleave",(function(){k=!1})),document.addEventListener("click",(function(e){var t=e.target;if(t.isSameNode(o)||t.isSameNode(d)||t.parentNode.isSameNode(d))return!0;d.style.display="none"})),E()};