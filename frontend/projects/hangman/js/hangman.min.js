hangman=new function(){let n,t,e,s,o,a,l,c,i=0,d=0,r=0;const u="AĄBCĆDEĘFGHIJKLŁMNOÓPRSTUVWYZŹŻ".split("");function g(){c.show(),r=1,n.css("background","url("+t+"s0.jpg)"),function(){s.empty();for(let n in u){const t=document.createElement("button");t.value=u[n],t.innerHTML=u[n],t.onclick=$,s.appendChild(t)}}(),function(){const n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(o=n.responseText.toUpperCase(),function(){for(let n in o.split("")){const n=$$("<div>");n.addClass("word").addClass("off"),e.appendChild(n)}r=0,c.hide()}())},n.open("GET","/api/v1/projects/random-word"),n.send()}()}function f(){d=0,i=0,l.hide(),a.hide(),e.empty(),g()}function $(e){if(d<10&&i!==o.length&&!r){e.target.onclick=function(){};const s=e.target.value;if(-1!==o.indexOf(e.target.value)){const n=document.getElementsByClassName("word");for(let t=0;t<o.length;t++)o[t]===s&&(i++,$$(n[t]).addClass("ok").setText(s));$$(e.target).addClass("ok"),i===o.length&&(a.css("background","url("+t+"win.jpg)").show(),l.show())}else $$(e.target).addClass("fail"),function(){if(d++,d<10)n.css("background","url("+t+"s"+d+".jpg)");else{const e=document.getElementsByClassName("word");for(let n=0;n<o.length;n++){$$(e[n]).hasClass("ok")||$$(e[n]).addClass("fail").setText(o[n])}n.css("background","url("+t+"s10.jpg)"),a.css("background","url("+t+"over.jpg)").show(),l.show()}}()}}this.init=function(){n=$$("#photo"),e=$$("#wordDiv"),s=$$("#alphabet"),a=$$("#info"),l=$$("#new"),c=$$("#load"),l.onclick=f,t="/assets/hangman/image/",l.css("background","url("+t+"new.jpg)"),n.show(),g()}},hangman.init();
