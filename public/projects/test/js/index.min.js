var t,n,e,l,a,o=700,i=500,r=.8,s=.7,u=.4,$=.6;function h(){e=Number($$("#startX").value||o/2),l=Number($$("#startY").value||i),sl=Number($$("#startL").value||100),a=Number($$("#startA").value||Math.PI/2),r=Number($$("#l1").value||.8),s=Number($$("#l2").value||.7),u=Number($$("#a1").value||.4),$=Number($$("#a2").value||.6),n.fillStyle="rgb(200, 200, 230)",n.fillRect(0,0,o,i),f(e,l,sl,a)}function f(t,e,l,a){var o,i;l<2||(o=t+l*Math.cos(a),i=e-l*Math.sin(a),n.beginPath(),n.strokeStyle=l<5?"green":"black",n.lineWidth=1/6*l,n.moveTo(t,e),n.lineTo(o,i),n.stroke(),f(o,i,l*r,a+u),f(o,i,l*s,a-$))}$$.load(function(){$$("#newDraw").addEvent("click",h),(t=$$("#gen")).height=i,t.width=o,t&&t.getContext&&((n=t.getContext("2d")).fillStyle="rgb(200, 200, 230)",n.fillRect(0,0,o,i),f(o/2,i,100,Math.PI/2))});var m,v,c=700,g=500,d=possY=mouseX=mouseY=55,b=50,M=10;function Y(){d+=.06*(mouseX-d),possY+=.06*(mouseY-possY),v.fillStyle="rgba(0, 0, 0, 0.04)",v.fillRect(0,0,c,g);for(var t,e,l,a=0;a<M;a++){v.beginPath();o=d,t=possY,l=e=void 0,e=Math.random()*b,l=2*Math.random()*Math.PI;var o=[o+e*Math.sin(l),t+e*Math.cos(l)];v.fillStyle=function(){for(var t="0123456789ABCDEF".split(""),e="#",l=0;l<6;l++)e+=t[Math.floor(16*Math.random())];return e}(),v.arc(o[0],o[1],2,0,2*Math.PI),v.fill()}}function N(t){var e=m.getBoundingClientRect();mouseX=t.clientX-e.left,mouseY=t.clientY-e.top}(m=$$("#this-is-kind-of-magic")).addEvent("mousemove",N),m.height=g,m.width=c,m&&m.getContext&&((v=m.getContext("2d")).fillStyle="rgb(0, 0, 0)",v.fillRect(0,0,c,g),setInterval(Y,1e3/60));