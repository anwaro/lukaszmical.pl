let container,camera,scene,renderer,mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;function init(){container=document.createElement("div"),document.body.appendChild(container),camera=new THREE.PerspectiveCamera(12,window.innerWidth/window.innerHeight,1,2e3),camera.position.z=30,scene=new THREE.Scene;const e=new THREE.AmbientLight(1052720);scene.add(e);const n=new THREE.DirectionalLight(16772829);n.position.set(0,0,1),scene.add(n);const i=new THREE.LoadingManager;i.onProgress=function(e,n,i){console.log(e,n,i)};const o=new THREE.Texture;new THREE.ImageLoader(i).load("/images/projects/car3D/UV_Grid_Sm.jpg",(function(e){o.image=e,o.needsUpdate=!0})),new THREE.OBJLoader(i).load("/files/gtr_1.obj",(function(e){e.traverse((function(e){e instanceof THREE.Mesh&&(e.material.map=o)})),e.position.y=0,e.position.x=20,scene.add(e)}),(function(e){if(e.lengthComputable){const n=e.loaded/e.total*100;console.log(Math.round(n,2)+"% downloaded")}}),(function(e){})),renderer=new THREE.WebGLRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight-100),container.appendChild(renderer.domElement),document.addEventListener("mousemove",onDocumentMouseMove,!1),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(e){mouseX=(e.clientX-windowHalfX)/2,mouseY=(e.clientY-windowHalfY)/2}function animate(){requestAnimationFrame(animate),render()}function render(){camera.position.x=0,camera.position.y=0,scene.rotation.y+=.002,camera.lookAt(scene.position),renderer.render(scene,camera)}init(),animate();