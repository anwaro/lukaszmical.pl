let r;function i(e,t){t=document.getElementById(t);if(!t)return null;let r="",i=t.firstChild;for(;i;)3===i.nodeType&&(r+=i.textContent),i=i.nextSibling;let a;if("x-shader/x-fragment"===t.type)a=e.createShader(e.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!==t.type)return null;a=e.createShader(e.VERTEX_SHADER)}return e.shaderSource(a,r),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(alert(e.getShaderInfoLog(a)),null)}let a;let n=mat4.create(),o=mat4.create();function m(){r.uniformMatrix4fv(a.pMatrixUniform,!1,o),r.uniformMatrix4fv(a.mvMatrixUniform,!1,n)}let l,f;function e(){var e,t=document.getElementById("lesson01-canvas");try{(r=t.getContext("experimental-webgl")).viewportWidth=t.width,r.viewportHeight=t.height}catch(e){}r||alert("Could not initialise WebGL, sorry :-("),t=i(r,"shader-fs"),e=i(r,"shader-vs"),a=r.createProgram(),r.attachShader(a,e),r.attachShader(a,t),r.linkProgram(a),r.getProgramParameter(a,r.LINK_STATUS)||alert("Could not initialise shaders"),r.useProgram(a),a.vertexPositionAttribute=r.getAttribLocation(a,"aVertexPosition"),r.enableVertexAttribArray(a.vertexPositionAttribute),a.pMatrixUniform=r.getUniformLocation(a,"uPMatrix"),a.mvMatrixUniform=r.getUniformLocation(a,"uMVMatrix"),l=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,l),e=[0,1,0,-1,-1,0,1,-1,0],r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.STATIC_DRAW),l.itemSize=3,l.numItems=3,f=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,f),e=[1,1,0,-1,1,0,1,-1,0,-1,-1,0],r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r.STATIC_DRAW),f.itemSize=3,f.numItems=4,r.clearColor(0,0,0,1),r.enable(r.DEPTH_TEST),r.viewport(0,0,r.viewportWidth,r.viewportHeight),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),mat4.perspective(45,r.viewportWidth/r.viewportHeight,.1,100,o),mat4.identity(n),mat4.translate(n,[-1.5,0,-7]),r.bindBuffer(r.ARRAY_BUFFER,l),r.vertexAttribPointer(a.vertexPositionAttribute,l.itemSize,r.FLOAT,!1,0,0),m(),r.drawArrays(r.TRIANGLES,0,l.numItems),mat4.translate(n,[3,0,0]),r.bindBuffer(r.ARRAY_BUFFER,f),r.vertexAttribPointer(a.vertexPositionAttribute,f.itemSize,r.FLOAT,!1,0,0),m(),r.drawArrays(r.TRIANGLE_STRIP,0,f.numItems)}$$.load(function(){e()});