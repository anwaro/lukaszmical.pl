var n,s,a=700,r=500,i=a/2,l=r/2,c=20,t=5,p=.8,u=[];function e(t){var e=n.getBoundingClientRect();i=t.clientX-e.left,l=t.clientY-e.top}function o(){s.fillStyle="rgba(0, 0, 0, 0.05)",s.fillRect(0,0,a,r),s.beginPath(),s.fillStyle="#17B70E",s.arc(i,l,1,0,2*Math.PI),s.fill();for(var t,e,n=0;n<c;n++){s.beginPath(),s.fillStyle=u[n].color,s.arc(u[n].poss.x,u[n].poss.y,u[n].r,0,2*Math.PI),s.fill(),u[n].v.y+=.0981;t=u[n],o=e=void 0,e=function(t,e){return"object"==typeof t&&"object"==typeof e?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):Math.abs(t-e)}(t.poss,{x:i,y:l});var o={x:(o=-.15/e*e)*(t.poss.x-i)/e,y:o*(t.poss.y-l)/e};u[n].v.x+=o.x,u[n].v.y+=o.y,(u[n].poss.x-u[n].r+u[n].v.x<=0||u[n].poss.x+u[n].r+u[n].v.x>=a)&&(u[n].v.x*=-p),(u[n].poss.y-u[n].r+u[n].v.y<=0||u[n].poss.y+u[n].r+u[n].v.y>=r)&&(u[n].v.y*=-p),u[n].poss.x+=u[n].v.x,u[n].poss.y+=u[n].v.y}}function f(t){return parseInt(t)}function h(t,e){return void 0===e&&(e=t,t=0),Math.random()*(e-t)+t}function y(t,e,n,o){this.poss=new v(t,e),this.v=new v(h(1,3),h(1,3)),this.r=o,this.color=n}function v(t,e){this.x=t,this.y=e}(n=document.getElementById("planet")).height=r,n.width=a,n.addEventListener("mousemove",e);for(var d=0;d<c;d++)u.push(new y(h(2*t,a)+t,h(2*t,r)+t,"rgb("+f(h(255))+", "+f(h(255))+", "+f(h(255))+")",t));n&&n.getContext&&((s=n.getContext("2d")).fillStyle="rgb(0, 0, 0)",s.fillRect(0,0,a,r),setInterval(o,1e3/60)),_record=function(t,e){var n,o,s=[],a=[],r=0,i=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<25;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),l=!0,c=!1,p="/projects/ajax";function u(){var t,e;c&&!l&&(s.push(n.toDataURL()),5<=s.length)&&(a.push(s),s=[],e=a.shift(),e={name:i,photo:e},console.log("PoszÅ‚a paczka nr "+r),e=e,(t=new XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&200===t.status&&console.log("Zapisano paczke "+t.responseText)},t.open("POST",p,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("data="+encodeURIComponent(JSON.stringify(e))+"&number="+r),r++)}this.start=function(){c||(c=!(l=!1),(new Date).getTime(),o=setInterval(u,100))},this.stop=function(){l=!(c=!1),clearInterval(o)},this.pause=function(){l=!0,clearInterval(o)},this.getVideo=function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&200===t.status&&console.log(t.responseText)},t.open("POST",p+"Video",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("name="+i)},n=t};