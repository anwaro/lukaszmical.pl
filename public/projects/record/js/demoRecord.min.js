var canvasP,ctxP,canvasWidth=700,canvasHeight=500,mouseX=canvasWidth/2,mouseY=canvasHeight/2,num=20,r=5,f=.8,planets=[];function planet(){(canvasP=document.getElementById("planet")).height=canvasHeight,canvasP.width=canvasWidth,canvasP.addEventListener("mousemove",mousePoss),prepareP(),canvasP&&canvasP.getContext&&((ctxP=canvasP.getContext("2d")).fillStyle="rgb(0, 0, 0)",ctxP.fillRect(0,0,canvasWidth,canvasHeight),setInterval(drawP,1e3/60))}function mousePoss(t){var n=canvasP.getBoundingClientRect();mouseX=t.clientX-n.left,mouseY=t.clientY-n.top}function drawP(){ctxP.fillStyle="rgba(0, 0, 0, 0.05)",ctxP.fillRect(0,0,canvasWidth,canvasHeight),ctxP.beginPath(),ctxP.fillStyle="#17B70E",ctxP.arc(mouseX,mouseY,1,0,2*Math.PI),ctxP.fill();for(var t=0;t<num;t++){ctxP.beginPath(),ctxP.fillStyle=planets[t].color,ctxP.arc(planets[t].poss.x,planets[t].poss.y,planets[t].r,0,2*Math.PI),ctxP.fill(),planets[t].v.y+=.0981;var n=getForce(planets[t]);planets[t].v.x+=n.x,planets[t].v.y+=n.y,(planets[t].poss.x-planets[t].r+planets[t].v.x<=0||planets[t].poss.x+planets[t].r+planets[t].v.x>=canvasWidth)&&(planets[t].v.x*=-f),(planets[t].poss.y-planets[t].r+planets[t].v.y<=0||planets[t].poss.y+planets[t].r+planets[t].v.y>=canvasHeight)&&(planets[t].v.y*=-f),planets[t].poss.x+=planets[t].v.x,planets[t].poss.y+=planets[t].v.y}}function getForce(t){var n=distance(t.poss,{x:mouseX,y:mouseY}),a=-.15/n*n;return{x:a*(t.poss.x-mouseX)/n,y:a*(t.poss.y-mouseY)/n}}function distance(t,n){return"object"==typeof t&&"object"==typeof n?Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)):Math.abs(t-n)}function prepareP(){for(var t=0;t<num;t++)planets.push(new Planet(rand(2*r,canvasWidth)+r,rand(2*r,canvasHeight)+r,"rgb("+int(rand(255))+", "+int(rand(255))+", "+int(rand(255))+")",r))}function int(t){return parseInt(t)}function rand(t,n){return void 0===n&&(n=t,t=0),Math.random()*(n-t)+t}function Planet(t,n,a,e){this.poss=new Point(t,n),this.v=new Point(rand(1,3),rand(1,3)),this.r=e,this.color=a}function Point(t,n){this.x=t,this.y=n}planet();