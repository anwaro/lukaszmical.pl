var CANV=CANV||{};CANV.init=function(){CANV.canv=document.getElementById("climatModel"),CANV.all=document.getElementById("all"),CANV.cont=document.getElementById("control"),CANV.ctx=CANV.canv.getContext("2d")},CANV.draw=function(){CANV.ctx.clearRect(0,0,SET.x,SET.y),CANV.drawStatElement(),CANV.drawAtmosfer(),ENGINE.cal()},CANV.drawStatElement=function(){for(var t=0;t<SET.x+60;t+=60)CANV.ctx.drawImage(SET.img[SET.ground],t,SET.y-47,60,47);CANV.ctx.drawImage(SET.img[7],0,-50,300,100)},CANV.drawAtmosfer=function(){var t=(400-20*SET.nemStratum+20)/SET.nemStratum,e=0;CANV.drawArrowDown(50,100+.5*t-10,80,30,"yellow",SET.sun),CANV.drawArrowTop(3,100+.5*t-10,SET.x-100,50,"orange",SET.IR[0].przech+"%");for(var r=0,A=100;r<SET.nemStratum;r++,A+=t+20){CANV.ctx.fillStyle="rgba(228, 228, 228, 0.32)",CANV.ctx.beginPath(),CANV.ctx.rect(0,A,SET.x,t),CANV.ctx.closePath(),CANV.ctx.fill();for(var o=0;o<1e3;o++)CANV.ctx.beginPath(),CANV.ctx.arc(SET.ran[o+r]*SET.x,A+SET.ran[o+r+1]*t,1,0,2*Math.PI,!1),CANV.ctx.fillStyle="rgba(76, 56, 218, 0.61)",CANV.ctx.fill();var c=50+(r+1)/SET.nemStratum*25;e+=1.1*c,r+1!==SET.nemStratum?(CANV.drawArrowDown(A+.5*t,A+1.5*t,80,30-2*r,"yellow",SET.Vis[r].przech+"%"),CANV.drawArrowTop(A+.5*t,A+1.5*t,SET.x-100-e,c,"orange",SET.IR[r+1].przech+"%"),CANV.drawArrowDown(A+.5*t,A+1.5*t,SET.x-100-e+2*c,20,"orange",((SET.IR[r+1].przech-SET.IR[r].przech)/2).toFixed(2)+"%")):(CANV.drawArrowDown(A+.5*t,SET.y-50,80,30-2*r,"yellow",SET.Vis[r].przech+"%"),CANV.drawArrowTop(A+.5*t,SET.y-30,SET.x-100-e,c,"orange","100%"),CANV.drawArrowDown(A+.5*t,SET.y-30,SET.x-100-e+2*c,20,"orange",((100-SET.IR[r].przech)/2).toFixed(2)+"%"))}CANV.drawArrowTop(50,SET.y-130,180,25,"yellow",(100-SET.Vis[SET.nemStratum-1].przech).toFixed(2)+"%")},CANV.drawArrowDown=function(t,e,r,A,o,c){CANV.ctx.beginPath(),CANV.ctx.moveTo(r-A,t),CANV.ctx.lineTo(r+A,t),CANV.ctx.lineTo(r+A,t+.75*(e-t)),CANV.ctx.lineTo(r+2*A,t+.75*(e-t)),CANV.ctx.lineTo(r,e),CANV.ctx.lineTo(r-2*A,t+.75*(e-t)),CANV.ctx.lineTo(r-A,t+.75*(e-t)),CANV.ctx.moveTo(r-A,t),CANV.ctx.fillStyle=o,CANV.ctx.strokeStyle=o,CANV.ctx.fill(),CANV.ctx.stroke(),CANV.ctx.font="16pt Calibri",CANV.ctx.fillStyle="black",CANV.ctx.textAlign="center",CANV.ctx.textBaseline="top",CANV.ctx.fillText(c,r,t)},CANV.drawArrowTop=function(t,e,r,A,o,c){CANV.ctx.beginPath(),CANV.ctx.moveTo(r-A,e),CANV.ctx.lineTo(r+A,e),CANV.ctx.lineTo(r+A,e-.75*(e-t)),CANV.ctx.lineTo(r+1.5*A,e-.75*(e-t)),CANV.ctx.lineTo(r,t),CANV.ctx.lineTo(r-1.5*A,e-.75*(e-t)),CANV.ctx.lineTo(r-A,e-.75*(e-t)),CANV.ctx.moveTo(r-A,e),CANV.ctx.fillStyle=o,CANV.ctx.strokeStyle=o,CANV.ctx.fill(),CANV.ctx.stroke(),CANV.ctx.font="16pt Calibri",CANV.ctx.fillStyle="black",CANV.ctx.textAlign="center",CANV.ctx.textBaseline="top",CANV.ctx.fillText(c,r,t+10)};